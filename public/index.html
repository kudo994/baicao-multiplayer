<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>B√†i C√†o 3D ‚Äì Mockup UI Prototype (Full Enhancements)</title>
  <style>
    :root{
      --bg:#0a0f1f;
      --panel:#111831;
      --panel-2:#0c1335;
      --gold:#f0c674;
      --gold-2:#ffd36b;
      --accent:#2dd4bf;
      --accent-2:#7aa2ff;
      --text:#e7ecf2;
      --muted:#9aa5b1;
      --shadow:0 12px 40px rgba(0,0,0,.35);
      --radius:14px;
      --progress:#ffd36b;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;background:
      radial-gradient(1200px 600px at 70% -10%, #14224f33, transparent),
      radial-gradient(900px 500px at 0% 100%, #1b2b6040, transparent),var(--bg);color:var(--text)}
    .topbar{position:sticky;top:0;z-index:30;display:flex;justify-content:space-between;align-items:center;padding:12px 18px;background:linear-gradient(180deg,#0b122b,#0a1026);border-bottom:1px solid #1a2555}
    .brand{display:flex;gap:10px;align-items:center}
    .logo{width:34px;height:34px;border-radius:10px;background:conic-gradient(#12204a,#1d4ed8,#12204a);box-shadow:inset 0 0 12px #6ea8ff22}
    .title{font-weight:800}
    .nav{display:flex;gap:8px;flex-wrap:wrap}
    .btn{padding:8px 12px;border-radius:10px;border:1px solid #283772;background:#0c1541;color:var(--text);cursor:pointer;box-shadow:0 2px 0 #0b1340;transition:.15s}
    .btn:hover{transform:translateY(-1px);box-shadow:0 6px 14px #00000055}
    .btn.primary{background:linear-gradient(180deg,#f6d58a,#d8a93e);color:#2b1d06;border:none}
    .btn.ghost{background:transparent;border:1px dashed #2b3a7b}
    .switch{display:flex;align-items:center;gap:6px}
    .container{max-width:1200px;margin:22px auto;padding:0 16px}
    .screen{display:none;animation:fade .25s ease}
    .screen.active{display:block}
    @keyframes fade{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
    .panel{background:linear-gradient(180deg,#0f1737,#0b1230);border:1px solid #22306a;border-radius:var(--radius);box-shadow:var(--shadow);padding:14px}
    .table-3d{position:relative;aspect-ratio:16/9;background:radial-gradient(900px 300px at 50% 20%, #20316b70, transparent),
              radial-gradient(800px 260px at 50% 70%, #12214f80, transparent),linear-gradient(180deg,#0b1230,#0a0f25);border:1px solid #21306a;border-radius:20px;overflow:hidden}
    .oval{position:absolute;inset:12% 18%;border-radius:1000px;background:radial-gradient(600px 200px at 50% 30%, #154a46,#0b2d2a 60%);box-shadow:inset 0 0 30px #00000066, 0 0 0 4px #15383a88}
    .deck{position:absolute;left:50%;top:44%;transform:translate(-50%,-50%);width:84px;height:60px;border-radius:10px;background:linear-gradient(180deg,#d7dff2,#acb9da);box-shadow:0 10px 18px #0006}
    .chip-stack{position:absolute;display:grid;gap:4px}
    .chip-token{width:44px;height:44px;border-radius:50%;box-shadow:0 8px 18px #0006;border:2px solid #0003}
    .denom-5 {background:radial-gradient(circle at 35% 35%, #fefefe,#f1f5f9);}
    .denom-25{background:radial-gradient(circle at 35% 35%, #8bffd4,#2dd4bf)}
    .denom-100{background:radial-gradient(circle at 35% 35%, #ffd36b,#d49b17)}
    .chip-label{position:absolute;top:-18px;left:50%;transform:translateX(-50%);font-size:12px;color:var(--muted)}
    .seat{position:absolute;width:190px;text-align:center}
    .avatar3d{width:64px;height:64px;border-radius:50%;background:radial-gradient(circle at 30% 25%, #5d78ff,#233b86 60%);box-shadow:inset -10px -10px 16px #0006, 0 8px 20px #0007;position:relative;overflow:hidden}
    .avatar3d::after{content:"";position:absolute;inset:0;background:radial-gradient(80px 40px at 30% 25%,#ffffff22,transparent)}
    .speaking{outline:3px solid var(--accent);box-shadow:0 0 0 6px #2dd4bf40}
    .actions{margin-top:6px;display:flex;justify-content:center;gap:8px}
    .emoji{font-size:18px;cursor:pointer;transition:.15s}
    .emoji:hover{transform:translateY(-2px)}
    .voice{width:28px;height:28px;border-radius:50%;background:var(--accent);color:#001;display:flex;align-items:center;justify-content:center;cursor:pointer}
    .reaction-bubble{position:absolute;left:50%;transform:translateX(-50%);top:-6px;opacity:0;transition:opacity .15s}
    .bubble{background:#0e1742;border:1px solid #2a3b7d;border-radius:999px;padding:4px 8px;font-size:18px}
    .bubble.fly{animation:floatUp .9s ease forwards}
    @keyframes floatUp{from{transform:translate(-50%, 0);opacity:0}50%{opacity:1}to{transform:translate(-50%, -40px);opacity:0}}
    .s-top{top:3%;left:50%;transform:translateX(-50%)}
    .s-left{top:35%;left:1.5%}
    .s-right{top:35%;right:1.5%}
    .s-bottom{bottom:4%;left:50%;transform:translateX(-50%)}
    .my-hand{position:absolute;left:50%;bottom:8%;transform:translateX(-50%);display:flex;gap:12px}
    .card{width:74px;height:104px;border-radius:10px;transform-style:preserve-3d;transition:transform .8s;position:relative;box-shadow:0 12px 22px rgba(0,0,0,.25)}
    .card .front,.card .back{position:absolute;inset:0;border-radius:10px;backface-visibility:hidden}
    .card .back{background:linear-gradient(135deg,#1b2a6a,#0e1742);border:1px solid #203070}
    .card .front{display:flex;align-items:center;justify-content:center;font-size:28px;font-weight:800;color:#000;background:#fff;border:1px solid #d1d5db;transform:rotateY(180deg)}
    .card.flipped{transform:rotateY(180deg)}
    .trail{position:absolute;pointer-events:none;filter:blur(1px);opacity:.0}
    .trail.show{animation:trailGlow .9s ease-out}
    @keyframes trailGlow{0%{opacity:.0}20%{opacity:.9}100%{opacity:0}}
    .fly{animation:flyCard 900ms cubic-bezier(.2,.8,.2,1) forwards}
    @keyframes flyCard{0%{transform:translate(0,0)}40%{transform:translate(-50px,-110px) rotate(-6deg)}100%{transform:translate(220px,-160px) rotate(0deg)}}
    .fly-zig{animation:flyZig 1.1s ease-out forwards}
    @keyframes flyZig{0%{transform:translate(0,0)}25%{transform:translate(60px,-50px)}50%{transform:translate(-30px,-100px)}75%{transform:translate(120px,-140px)}100%{transform:translate(220px,-160px)}}
    .countdown{position:absolute;top:8%;right:4%;background:#0008;padding:6px 10px;border-radius:10px;display:flex;align-items:center;gap:10px}
    .progress{width:120px;height:10px;background:#2a345a;border-radius:5px;overflow:hidden}
    .progress-bar{height:100%;width:100%;background:linear-gradient(90deg,var(--progress),#d8a93e);animation:progressAnim 15s linear forwards}
    @keyframes progressAnim{from{width:100%}to{width:0%}}
    .ring{width:34px;height:34px;border-radius:50%;background:conic-gradient(var(--progress) var(--angle,0deg), #263159 0);display:grid;place-items:center}
    .ring span{background:#0c1435;border:1px solid #2a3a78;width:26px;height:26px;border-radius:50%;display:grid;place-items:center;font-size:12px;color:var(--text)}
    .controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:10px}
    .chipbar{display:flex;gap:6px;justify-content:center;margin-top:10px}
    .denom{padding:4px 8px;border-radius:999px;border:1px solid #2b3a7b;background:#0c1541;color:var(--text);cursor:pointer}
    @media (max-width: 768px){.seat{width:150px}.my-hand{gap:8px}.card{width:64px;height:92px}.countdown{right:2%}}
  </style>
</head>
<body>
  <header class="topbar">
    <div class="brand"><div class="logo"></div><div class="title">B√ÄI C√ÄO 3D ‚Äì Prototype</div></div>
    <nav class="nav">
      <button class="btn" data-goto="table">Trong b√†n</button>
      <button class="btn" data-goto="result">K·∫øt qu·∫£</button>
      <div class="switch">
        <label class="btn ghost">Cool</label>
        <input id="themeToggle" type="checkbox" />
        <label class="btn ghost">Gold</label>
      </div>
    </nav>
  </header>

  <main class="container">
    <section id="screen-table" class="screen active">
      <div class="panel">
        <h2>B√†n #A01</h2>
        <div class="table-3d" id="table">
          <div class="oval"></div>
          <div class="deck" id="deck"></div>

          <div class="chip-stack" style="top:20%;left:20%">
            <div class="chip-label">$5</div>
            <div class="chip-token denom-5"></div>
            <div class="chip-token denom-5"></div>
            <div class="chip-token denom-5"></div>
          </div>
          <div class="chip-stack" style="top:22%;right:18%">
            <div class="chip-label">$25</div>
            <div class="chip-token denom-25"></div>
            <div class="chip-token denom-25"></div>
          </div>
          <div class="chip-stack" style="bottom:18%;left:50%;transform:translateX(-50%)">
            <div class="chip-label">$100</div>
            <div class="chip-token denom-100"></div>
            <div class="chip-token denom-100"></div>
            <div class="chip-token denom-100"></div>
          </div>

          <div class="seat s-top">
            <div class="avatar3d" id="avatarTop"></div>
            <div class="reaction-bubble"><div class="bubble" id="bubbleTop">üòÄ</div></div>
            <div class="actions">
              <span class="emoji" data-react="#bubbleTop">üòÄ</span>
              <span class="emoji" data-react="#bubbleTop">üî•</span>
              <div class="voice" data-voice="#avatarTop">üé§</div>
            </div>
          </div>
          <div class="seat s-left">
            <div class="avatar3d" id="avatarLeft"></div>
            <div class="reaction-bubble"><div class="bubble" id="bubbleLeft">üëç</div></div>
            <div class="actions">
              <span class="emoji" data-react="#bubbleLeft">üòÇ</span>
              <span class="emoji" data-react="#bubbleLeft">üòé</span>
              <div class="voice" data-voice="#avatarLeft">üé§</div>
            </div>
          </div>
          <div class="seat s-right">
            <div class="avatar3d" id="avatarRight"></div>
            <div class="reaction-bubble"><div class="bubble" id="bubbleRight">üíØ</div></div>
            <div class="actions">
              <span class="emoji" data-react="#bubbleRight">üíØ</span>
              <span class="emoji" data-react="#bubbleRight">üëè</span>
              <div class="voice" data-voice="#avatarRight">üé§</div>
            </div>
          </div>
          <div class="seat s-bottom">
            <div class="avatar3d" id="avatarBottom"></div>
            <div class="reaction-bubble"><div class="bubble" id="bubbleBottom">üòâ</div></div>
            <div class="actions">
              <span class="emoji" data-react="#bubbleBottom">üòâ</span>
              <span class="emoji" data-react="#bubbleBottom">‚ù§Ô∏è</span>
              <div class="voice" data-voice="#avatarBottom">üé§</div>
            </div>
          </div>

          <div class="my-hand" id="hand">
            <div class="card"><div class="back"></div><div class="front">A‚ô†</div></div>
            <div class="card"><div class="back"></div><div class="front">10‚ô¶</div></div>
            <div class="card"><div class="back"></div><div class="front">9‚ô£</div></div>
          </div>

          <svg class="trail" id="trail" width="300" height="200" style="left:50%;top:44%;transform:translate(-50%,-50%)">
            <defs>
              <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#ffffff00"/>
                <stop offset="50%" stop-color="#ffd36b"/>
                <stop offset="100%" stop-color="#ffffff00"/>
              </linearGradient>
            </defs>
            <line x1="10" y1="10" x2="290" y2="160" stroke="url(#grad)" stroke-width="3" />
          </svg>

          <div class="countdown">
            <div class="ring"><span id="ringText">15</span></div>
            <div class="progress"><div class="progress-bar" id="prog"></div></div>
          </div>
        </div>

        <div class="controls">
          <button class="btn primary" id="btnDeal">Chia (bay t·ª´ b·ªô b√†i)</button>
          <button class="btn" id="btnZig">ƒê∆∞·ªùng bay ZigZag</button>
          <button class="btn" id="flipBtn">L·∫≠t/√öp</button>
          <button class="btn ghost" id="resetBtn">Reset</button>
        </div>
        <div class="chipbar">
          <span class="denom" data-progress="#ffd36b">Thanh ti·∫øn tr√¨nh: V√†ng</span>
          <span class="denom" data-progress="#7aa2ff">Xanh m√°t</span>
          <span class="denom" data-progress="#2dd4bf">Teal</span>
        </div>
      </div>
    </section>

    <section id="screen-result" class="screen">
      <div class="panel">
        <h2>K·∫øt qu·∫£ v√°n ‚Äì minh ho·∫°</h2>
        <p class="muted">(Gi·ªØ nguy√™n t·ª´ phi√™n b·∫£n tr∆∞·ªõc)</p>
      </div>
    </section>
  </main>

  <script>
    const screens={table:document.getElementById('screen-table'),result:document.getElementById('screen-result')};
    document.querySelectorAll('[data-goto]').forEach(b=>b.addEventListener('click',()=>{
      Object.values(screens).forEach(s=>s.classList.remove('active'));
      screens[b.dataset.goto].classList.add('active');
      window.scrollTo({top:0,behavior:'smooth'});
    }));
    const toggle=document.getElementById('themeToggle');
    toggle?.addEventListener('change',()=>{
      const gold=toggle.checked;
      document.documentElement.style.setProperty('--progress', gold? '#ffd36b':'#7aa2ff');
      document.documentElement.style.setProperty('--accent', gold? '#2dd4bf':'#7aa2ff');
    });
    document.getElementById('flipBtn').addEventListener('click',()=>{
      document.querySelectorAll('.card').forEach(c=>c.classList.toggle('flipped'))
    });
    const hand=document.getElementById('hand');
    const firstCard=hand.querySelector('.card');
    const trail=document.getElementById('trail');
    function showTrail(){ trail.classList.remove('show'); void trail.offsetWidth; trail.classList.add('show'); }
    document.getElementById('btnDeal').addEventListener('click',()=>{
      firstCard.classList.remove('fly','fly-zig');
      void firstCard.offsetWidth;
      firstCard.classList.add('fly');
      showTrail();
    });
    document.getElementById('btnZig').addEventListener('click',()=>{
      firstCard.classList.remove('fly','fly-zig');
      void firstCard.offsetWidth;
      firstCard.classList.add('fly-zig');
      showTrail();
    });
    document.getElementById('resetBtn').addEventListener('click',()=>{
      firstCard.classList.remove('fly','fly-zig','flipped');
    });
    let time=15; const ring=document.querySelector('.ring'); const ringText=document.getElementById('ringText');
    const timer=setInterval(()=>{
      time--; if(time<0){clearInterval(timer); return}
      ringText.textContent=time;
      const angle=(15-time)/15*360; ring.style.setProperty('--angle', angle+'deg');
    },1000);
    document.querySelectorAll('.denom').forEach(d=>d.addEventListener('click',()=>{
      document.documentElement.style.setProperty('--progress', d.getAttribute('data-progress'));
      const p=document.getElementById('prog'); p.style.animation='none'; void p.offsetWidth; p.style.animation='progressAnim 15s linear forwards';
    }));
    document.querySelectorAll('.voice').forEach(v=>v.addEventListener('click',()=>{
      const target=document.querySelector(v.dataset.voice);
      target.classList.toggle('speaking');
    }));
    document.querySelectorAll('.emoji').forEach(e=>e.addEventListener('click',()=>{
      const bubble=document.querySelector(e.dataset.react);
      bubble.textContent=e.textContent; bubble.classList.remove('fly'); void bubble.offsetWidth; bubble.classList.add('fly');
    }));
  </script>
</body>
</html>
